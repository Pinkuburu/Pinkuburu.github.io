在这个中秋，对于游戏人来说，最重要的事情之一可能就是猪厂的《神都夜行录》了。这一年来，网易真的是刷新了RPG手游的新高度。一个《楚留香》，一个《神都夜行录》，都凭借着精致的画面贴图、出色的剧情设计和唯美的风格，赢得了玩家很好的口碑。而这两款游戏的推出，基本上也把RPG游戏的制作门槛提高到了一个新的层次，恐怕在这之后，更多的小厂商是没有能力再触及RPG领域了。

![img](../img/inpost/202107/%E4%BB%8E%E3%80%8A%E7%A5%9E%E9%83%BD%E5%A4%9C%E8%A1%8C%E5%BD%95%E3%80%8B%E7%AE%80%E5%8D%95%E8%B0%88%E8%B0%88%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E8%AF%A5%E6%80%8E%E4%B9%88%E6%B5%8B/v2-a29d76f776789f5b1aac2ec08fad6c0a_720w.jpg)

作为一名游戏测试，我想从另一个角度——游戏启动与登录流程——来观察一下这个游戏，并希望借此展开来，简单谈一谈游戏的登录流程应该怎么测？

首先让我们拆解一下《神都夜行录》（以下简称《神都》）的登录流程。

游戏客户端启动后，《神都》在客户端资源更新的过程中，在比较明显的地方增加了一个“修复客户端”按钮。也就是说，如果玩家遇到了下载更新失败的情况，可以先通过“修复客户端”进行自检，这一点应该算是优化了更新问题的解决办法。

![img](../img/inpost/202107/%E4%BB%8E%E3%80%8A%E7%A5%9E%E9%83%BD%E5%A4%9C%E8%A1%8C%E5%BD%95%E3%80%8B%E7%AE%80%E5%8D%95%E8%B0%88%E8%B0%88%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E8%AF%A5%E6%80%8E%E4%B9%88%E6%B5%8B/v2-d10121ff5238146f1cc219b7d9cb0f5d_720w.jpg)

另外，由于游戏画面制作精良，客户端包体太大，为了提高用户转化率，一般来说游戏公司都会采取分包下载的方式解决这个问题。《神都》PC端的大小有3.1G，这基本就是整个游戏的总体大小了。但是安卓客户端下载后只有1.6G，也就是说将近一半的内容都是要通过后期玩家手动下载安装。《神都》也在完成资源更新的步骤后给出了弹框提示玩家“是否要下载高清/超清资源包”。

![img](../img/inpost/202107/%E4%BB%8E%E3%80%8A%E7%A5%9E%E9%83%BD%E5%A4%9C%E8%A1%8C%E5%BD%95%E3%80%8B%E7%AE%80%E5%8D%95%E8%B0%88%E8%B0%88%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E8%AF%A5%E6%80%8E%E4%B9%88%E6%B5%8B/v2-1a8cd8e47068796e230add7265e811bd_720w.jpg)

还有一个优点，在登录界面的用户反馈和公告两个按钮，不像很多游戏调用的是手机默认浏览器，而是调用的chromium引擎的web页面。chromium引擎在稳定性、速度都有一定的提升，这一点给玩家的感受也会好很多。

但是我也发现了几处问题。

比如说，非网易官方客户端在登录界面也有用户中心按钮，但是点击后无响应，这一点会给玩家带来困惑；又比方说，高清资源包下载完成但未安装的时候重启客户端，启动后依然提示玩家“需要下载高清资源包”；还有对模拟器的适配也不完善，部分模拟器（如蓝叠、海马玩）高清资源包无法下载并导致客户端闪退。

此外，网易的多个游戏都有一个共通点，开场动画不能关闭。不论是安装后第一次启动游戏还是第一百次启动游戏，都会先播放动画，玩家只能通过手动点击“跳过”来结束动画。

所以综上所述，游戏的启动与登录流程测试，也不仅仅是简单的输入帐号密码登录那么简单。那么，我们在这一步骤里都需要顾及哪些测试内容的？

先让我们来拆解一下整个启动与登录过程。

![img](https://pic2.zhimg.com/80/v2-293e198be3eade34d27b3b0cd9f0da39_720w.jpg)

如上图所示，整个流程按顺序分为客户端启动、系统授权、客户端更新和修复、登录sdk调用、帐号系统交互、公告读取和展示、服务器读取和选择、点击进入游戏。

那在这些内容里都有哪些测试点呢？让我们来一一分析一下。

1. 客户端启动：主要要测试性能，关注客户端启动的响应时间；
2. 闪屏：主要要测试设备适配，观察不同分辨率手机上的闪屏展现是否正常；
3. 系统授权：部分权限需要玩家手动点击开启或关闭，所以需要测试开启或关闭是否正常；另外每当安卓大版本更新的时候（如Android8升级Android9），可能涉及部分权限调整，这时候要重新检查代码，查看是否有权限无法正常调用；
4. 客户端更新和修复：客户端资源文件的读取和安装、断点续传机制、客户端修复的正确性、客户端修复后玩家信息的保留等等；
5. 登录sdk调用：各家公司都有自己的sdk，需要按照开发文档详细制作测试用例，保证sdk每条协议的发送都是正确的；
6. 公告读取和展示：公告的读取、公告的刷新、公告关闭；
7. 服务器读取和选择：服务器列表的读取、服务器列表的刷新、服务器状态显示、已有角色服务器查询和展示机制、默认服务器选择机制等等；
8. 用户中心测试：用户中心界面的调用、用户中心功能的流程、非官方客户端是否隐藏用户中心按钮等等；
9. PC端扫码：对于有PC端的手游，一般在客户端上都有扫码功能，扫码sdk的调用和关闭、帐号切换和顶号等都要测试；
10. 资源包分包：分包的下载、分包的安装和切换、客户端卸载后分包是否正确删除；
11. 登录功能测试：基础的黑盒测试，关注注册和登录的基本流程。

在以上测试项之外，我们还应该关注下面这两项测试内容。

一个是UI测试。从客户端启动后，不论是闪屏、客户端更新的loading界面、登录界面和用户中心等等地方，都涉及大量的贴图和按钮UI，这些东西都要我们一一关注，一个是关注这些贴图是否正常显示，另一个是要查看贴图和游戏整体风格是否搭配。

另一项内容是用户体验测试。我们需要把自己置身于普通玩家的角度，来观察整个登录流程里都有哪些内容不符合大众习惯？一个游戏设计完成后，只有得到多数玩家的认可，才是一个良好的游戏。所以切不可闭门造车，一定要注重玩家的实际感受。